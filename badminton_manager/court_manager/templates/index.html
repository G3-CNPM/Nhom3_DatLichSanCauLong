<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý sân cầu lông</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Sử dụng Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* Cấu hình chung cho body */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f7fc;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #333; /* Màu chữ chính nhẹ nhàng và dễ đọc */
        }

        h1, h2 {
            font-size: 2em;
            color: #333; /* Màu chữ chính */
            margin-bottom: 20px;
        }

        h1 {
            font-weight: 500;
        }

        /* Thanh điều hướng */
        nav {
            background-image: linear-gradient(to right, #00bcd4, #4caf50);
            padding: 15px;
            margin-bottom: 30px;
            width: 100%;
            display: flex;
            justify-content: center;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        nav a {
            color: white;
            text-decoration: none;
            margin: 0 20px;
            font-size: 1.1em;
            padding: 10px 15px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Phần hiển thị */
        .content-section {
            display: none;
            width: 100%;
            max-width: 900px;
        }

        .active {
            display: block;
        }

        /* Form đăng ký */
        #register-form input, #register-form button {
            margin: 10px 0;
            padding: 12px;
            width: 100%;
            max-width: 400px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        #register-form input:focus, #register-form button:focus {
            outline: none;
            border-color: #4caf50;
        }

        #register-form button {
            background-color: #4caf50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
        }

        #register-form button:hover {
            background-color: #45a049;
        }

        /* Bảng thống kê */
        table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        table th, table td {
            padding: 12px;
            text-align: center;
            border: 1px solid #ddd;
        }

        table th {
            background-color: #f7f7f7;
            font-weight: 600;
            color: #555; /* Màu chữ cho tiêu đề bảng */
        }

        table td {
            background-color: #ffffff;
            color: #666; /* Màu chữ cho các ô trong bảng */
        }

        /* Chart */
        #revenue-chart {
            margin-top: 20px;
            width: 100%;
            max-width: 800px;
        }

        /* Section liên hệ */
        #contact ul {
            list-style: none;
            padding: 0;
        }

        #contact ul li {
            margin: 10px 0;
            font-size: 1.1em;
            color: #333; /* Màu chữ cho liên hệ */
        }

        #contact a {
            color: #4caf50; /* Màu chữ cho liên kết */
            text-decoration: none;
        }

        #contact a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Thanh điều hướng -->
    <nav>
        <a href="#" onclick="showSection('home')">Trang chủ</a>
        <a href="#" onclick="showSection('register')">Đăng ký</a>
        <a href="#" onclick="showSection('statistics')">Thống kê doanh thu</a>
        <a href="#" onclick="showSection('contact')">Liên hệ</a>
    </nav>

    <!-- Phần nội dung -->
    <div id="home" class="content-section active">
        <h1>Chào mừng đến với hệ thống quản lý sân cầu lông!</h1>
        <p>Hãy chọn các mục trong thanh điều hướng để bắt đầu.</p>
    </div>

    <div id="register" class="content-section">
        <h1>Đăng ký thông tin</h1>
        <form id="register-form">
            <input type="text" id="name" placeholder="Tên khách hàng" required>
            <input type="email" id="email" placeholder="Email" required>
            <input type="tel" id="phone" placeholder="Số điện thoại" required>
            <input type="date" id="dob" required>
            <button type="submit">Đăng ký</button>
        </form>
    </div>

    <div id="statistics" class="content-section">
        <h1>Thống kê doanh thu và lợi nhuận</h1>
        <select id="time-filter">
            <option value="daily">Hàng ngày</option>
            <option value="weekly">Hàng tuần</option>
            <option value="monthly">Hàng tháng</option>
        </select>

        <div id="total-revenue">
            <h3>Tổng doanh thu: <span id="total-revenue-amount">0</span> VND</h3>
        </div>

        <div id="total-profit">
            <h3>Tổng lợi nhuận: <span id="total-profit-amount">0</span> VND</h3>
        </div>

        <canvas id="revenue-chart" width="300" height="150"></canvas>

        <h2>Chi tiết doanh thu và lợi nhuận</h2>
        <table id="revenue-details" border="1" cellpadding="10">
            <thead>
                <tr>
                    <th>Ngày</th>
                    <th>Doanh thu (VND)</th>
                    <th>Lợi nhuận (VND)</th>
                    <th>Chi phí (VND)</th>
                </tr>
            </thead>
            <tbody>
                <!-- Thông tin chi tiết sẽ được hiển thị ở đây -->
            </tbody>
        </table>
    </div>

    <div id="contact" class="content-section">
        <h1>Liên hệ</h1>
        <p>Để liên hệ với chúng tôi, vui lòng gửi email tới <strong>support@badminton.com</strong>.</p>
        <p>Hoặc bạn có thể liên hệ qua các phương tiện sau:</p>
        <ul>
            <li>Facebook: <a href="https://www.facebook.com/van.ky.271256" target="_blank">https://www.facebook.com/van.ky.271256</a></li>
            <li>Zalo: <a href="tel:+84982238540">0982238540</a></li>
        </ul>
    </div>

    <script>
        // Hàm hiển thị phần nội dung theo mục trong thanh điều hướng
        function showSection(sectionId) {
            // Ẩn tất cả các phần
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));

            // Hiển thị phần được chọn
            const activeSection = document.getElementById(sectionId);
            if (activeSection) {
                activeSection.classList.add('active');
            }
        }

        // Dữ liệu giả lập cho doanh thu và lợi nhuận (bao gồm chi phí)
        const mockRevenueData = {
            total_revenue: 5000000,
            total_profit: 2000000,
            details: [
                { date: '2024-12-19', court_rental: 1000000, racket_sales: 1500000, merchandise_sales: 500000, profit: 800000, cost: 500000 },
                { date: '2024-12-18', court_rental: 1200000, racket_sales: 1300000, merchandise_sales: 600000, profit: 700000, cost: 400000 },
                { date: '2024-12-17', court_rental: 1100000, racket_sales: 1400000, merchandise_sales: 700000, profit: 600000, cost: 350000 },
                { date: '2024-12-16', court_rental: 1300000, racket_sales: 1200000, merchandise_sales: 800000, profit: 900000, cost: 450000 },
            ]
        };

        // Hàm thống kê doanh thu và lợi nhuận
        document.getElementById('time-filter').addEventListener('change', function () {
            const filter = this.value;
            const data = mockRevenueData;

            const totalRevenue = data.total_revenue || 0;
            document.getElementById('total-revenue-amount').textContent = totalRevenue.toLocaleString();

            const totalProfit = data.total_profit || 0;
            document.getElementById('total-profit-amount').textContent = totalProfit.toLocaleString();

            const ctx = document.getElementById('revenue-chart').getContext('2d');
            const chartData = {
                labels: data.details.map(item => item.date),
                datasets: [
                    {
                        label: 'Thuê sân',
                        data: data.details.map(item => item.court_rental),
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1,
                    },
                    {
                        label: 'Bán vợt',
                        data: data.details.map(item => item.racket_sales),
                        backgroundColor: 'rgba(153, 102, 255, 0.2)',
                        borderColor: 'rgba(153, 102, 255, 1)',
                        borderWidth: 1,
                    },
                    {
                        label: 'Sản phẩm',
                        data: data.details.map(item => item.merchandise_sales),
                        backgroundColor: 'rgba(255, 159, 64, 0.2)',
                        borderColor: 'rgba(255, 159, 64, 1)',
                        borderWidth: 1,
                    }
                ]
            };

            if (window.chart) {
                window.chart.destroy();
            }

            window.chart = new Chart(ctx, {
                type: 'bar',
                data: chartData,
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            const tbody = document.getElementById('revenue-details').getElementsByTagName('tbody')[0];
            tbody.innerHTML = '';

            data.details.forEach(item => {
                const row = tbody.insertRow();
                const cellDate = row.insertCell(0);
                const cellRevenue = row.insertCell(1);
                const cellProfit = row.insertCell(2);
                const cellCost = row.insertCell(3);

                const totalRevenueForDay = item.court_rental + item.racket_sales + item.merchandise_sales;
                cellDate.textContent = item.date;
                cellRevenue.textContent = totalRevenueForDay.toLocaleString() + ' VND';
                cellProfit.textContent = item.profit.toLocaleString() + ' VND';
                cellCost.textContent = item.cost.toLocaleString() + ' VND';
            });
        });

        // Tự động tải doanh thu và lợi nhuận cho "daily" khi trang được tải
        window.onload = () => {
            document.getElementById('time-filter').value = 'daily';
            document.getElementById('time-filter').dispatchEvent(new Event('change'));
        };
    </script>
</body>
</html>
